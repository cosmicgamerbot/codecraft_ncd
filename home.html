<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampusConnect - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-20 flex items-center justify-between h-16 px-4 bg-white shadow-md">
        <div class="flex items-center space-x-2">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-teal-400 rounded-lg flex items-center justify-center">
                <span class="text-xl font-black text-white">C</span>
            </div>
            <span class="text-lg font-bold text-gray-800">Campus<span class="text-teal-500">Connect</span></span>
        </div>
        <button onclick="logout()" class="text-gray-600 hover:text-red-500">
            <span class="material-symbols-rounded">logout</span>
        </button>
    </header>

    <!-- Main Content -->
    <main class="pt-20 pb-20 px-4">
        <div id="content" class="max-w-4xl mx-auto"></div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 h-16 bg-white shadow-2xl flex justify-around items-center">
        <a href="home.html" class="flex flex-col items-center text-blue-500">
            <span class="material-symbols-rounded">home</span>
            <span class="text-xs">Home</span>
        </a>
        <a href="library.html" class="flex flex-col items-center text-gray-600 hover:text-blue-500">
            <span class="material-symbols-rounded">local_library</span>
            <span class="text-xs">Library</span>
        </a>
        <a href="canteen.html" class="flex flex-col items-center text-gray-600 hover:text-blue-500">
            <span class="material-symbols-rounded">restaurant</span>
            <span class="text-xs">Canteen</span>
        </a>
        <a href="profile.html" class="flex flex-col items-center text-gray-600 hover:text-blue-500">
            <span class="material-symbols-rounded">person</span>
            <span class="text-xs">Profile</span>
        </a>
    </nav>

    <script src="js/common.js"></script>
    <script>
        // Check authentication
        if (!requireAuth()) {
            // Will redirect to login
        } else {
            // Load home content
            const user = getCurrentUser();
            const content = document.getElementById('content');
            
            content.innerHTML = `
                <h2 class="text-2xl font-bold mb-6">Welcome back, ${user.name.split(' ')[0]}! ðŸ‘‹</h2>
                
                <div class="grid grid-cols-3 gap-4 mb-8">
                    <div class="bg-white p-4 rounded-xl shadow-md text-center">
                        <p class="text-3xl font-bold text-blue-600">3</p>
                        <p class="text-sm text-gray-600">Books</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl shadow-md text-center">
                        <p class="text-3xl font-bold text-teal-600">2</p>
                        <p class="text-sm text-gray-600">Orders</p>
                    </div>
                    <div class="bg-white p-4 rounded-xl shadow-md text-center">
                        <p class="text-3xl font-bold text-orange-600">${user.points}</p>
                        <p class="text-sm text-gray-600">Points</p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-md mb-6">
                    <h3 class="font-bold text-lg mb-4">Quick Actions</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <a href="library.html" class="p-4 bg-blue-500 text-white rounded-lg text-center hover:bg-blue-600">
                            <span class="material-symbols-rounded block mb-2 text-3xl">menu_book</span>
                            Browse Books
                        </a>
                        <a href="canteen.html" class="p-4 bg-teal-500 text-white rounded-lg text-center hover:bg-teal-600">
                            <span class="material-symbols-rounded block mb-2 text-3xl">restaurant</span>
                            Order Food
                        </a>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-green-50 to-teal-50 p-6 rounded-xl border-2 border-green-300">
                    <h3 class="font-bold text-center mb-4 flex items-center justify-center">
                        <span class="material-symbols-rounded mr-2 text-2xl text-green-600">eco</span>
                        Your Eco Score
                    </h3>
                    <div class="text-center">
                        <p class="text-5xl font-bold text-green-600 mb-2">85%</p>
                        <p class="text-sm text-gray-700">Keep making sustainable choices! ðŸŒ±</p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>